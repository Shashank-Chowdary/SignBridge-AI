{"ast":null,"code":"var _jsxFileName = \"/home/user/Documents/patent/signbridge/src/SignLanguageChat.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport { Upload, Send, Video, MessageSquare, User, UserCircle, Loader2, Play, AlertCircle, Camera, StopCircle, Mic, Volume2 } from 'lucide-react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function SignLanguageChat() {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [textInput, setTextInput] = useState('');\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [error, setError] = useState(null);\n  const [isRecording, setIsRecording] = useState(false);\n  const [recordedBlob, setRecordedBlob] = useState(null);\n  const [recordedVideoUrl, setRecordedVideoUrl] = useState(null);\n  const [isRecordingAudio, setIsRecordingAudio] = useState(false);\n  const [recordedAudioBlob, setRecordedAudioBlob] = useState(null);\n  const mediaRecorderRef = useRef(null);\n  const audioRecorderRef = useRef(null);\n  const videoStreamRef = useRef(null);\n  const audioStreamRef = useRef(null);\n  const videoPreviewRef = useRef(null);\n  const chunksRef = useRef([]);\n  const audioChunksRef = useRef([]);\n\n  // Convert audio to text using Web Speech API\n  const convertAudioToText = async audioBlob => {\n    return new Promise((resolve, reject) => {\n      const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();\n      recognition.lang = 'en-US';\n      recognition.continuous = false;\n      recognition.interimResults = false;\n      const audioUrl = URL.createObjectURL(audioBlob);\n      const audio = new Audio(audioUrl);\n      recognition.onstart = () => {\n        audio.play();\n      };\n      recognition.onresult = event => {\n        const transcript = event.results[0][0].transcript;\n        resolve(transcript);\n      };\n      recognition.onerror = event => {\n        reject(new Error('Speech recognition error: ' + event.error));\n      };\n      recognition.start();\n    });\n  };\n\n  // Text to speech function\n  const speakText = text => {\n    if ('speechSynthesis' in window) {\n      const utterance = new SpeechSynthesisUtterance(text);\n      utterance.rate = 0.9;\n      utterance.pitch = 1;\n      utterance.volume = 1;\n      window.speechSynthesis.speak(utterance);\n    }\n  };\n\n  // Convert video to text using Gemini API via backend\n  const convertVideoToText = async videoFile => {\n    setIsProcessing(true);\n    setError(null);\n    try {\n      var _data$candidates, _data$candidates$, _data$candidates$$con, _data$candidates$$con2, _data$candidates$$con3;\n      const base64Video = await new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onload = () => resolve(reader.result.split(',')[1]);\n        reader.onerror = reject;\n        reader.readAsDataURL(videoFile);\n      });\n      const response = await fetch(\"http://localhost:5000/api/video-to-text\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          contents: [{\n            parts: [{\n              text: \"You are a sign language interpreter AI. Analyze this video/image and describe what sign language gestures you can observe. Based on the visual cues, body language, and hand movements, provide a natural text translation of what the person is trying to communicate. Be conversational and natural in your interpretation. Give only the translated text, nothing else.\"\n            }, {\n              inline_data: {\n                mime_type: videoFile.type,\n                data: base64Video\n              }\n            }]\n          }]\n        })\n      });\n      if (!response.ok) {\n        throw new Error(`Backend error: ${response.status}`);\n      }\n      const data = await response.json();\n      console.log(\"Video to text response:\", data);\n      const convertedText = ((_data$candidates = data.candidates) === null || _data$candidates === void 0 ? void 0 : (_data$candidates$ = _data$candidates[0]) === null || _data$candidates$ === void 0 ? void 0 : (_data$candidates$$con = _data$candidates$.content) === null || _data$candidates$$con === void 0 ? void 0 : (_data$candidates$$con2 = _data$candidates$$con.parts) === null || _data$candidates$$con2 === void 0 ? void 0 : (_data$candidates$$con3 = _data$candidates$$con2[0]) === null || _data$candidates$$con3 === void 0 ? void 0 : _data$candidates$$con3.text) || \"Could not interpret the sign language.\";\n      return convertedText;\n    } catch (error) {\n      console.error(\"Error converting video:\", error);\n      setError(\"Make sure backend is running on port 5000: node server.js\");\n      return `Error: ${error.message}`;\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  // Generate sign language animation using Gemini API via backend\n  const generateSignLanguageAnimation = async text => {\n    setIsProcessing(true);\n    setError(null);\n    try {\n      console.log(\"Generating animation for:\", text);\n      const response = await fetch(\"http://localhost:5000/api/text-to-animation\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          contents: [{\n            parts: [{\n              text: `Create a complete HTML5 Canvas animation for American Sign Language (ASL) signs for: \"${text}\"\n\nRequirements:\n1. Create a stick figure with detailed hands showing 5 fingers each\n2. Animate ASL hand shapes for each word\n3. Show clear finger movements\n4. Add movement arrows\n5. Display the word being signed\n6. Use vibrant colors\n7. Loop the animation\n8. Canvas size: 600x400px\n\nIMPORTANT: Return ONLY pure HTML code. Do NOT include any markdown formatting like \\`\\`\\`html or \\`\\`\\`. Start directly with <!DOCTYPE html> and end with </html>. No explanations, just the HTML code.\n\nThe HTML should include:\n- Complete <!DOCTYPE html> declaration\n- <head> with <style> for styling\n- <body> with <canvas> element\n- <script> with animation code\n- Stick figure with visible fingers\n- Smooth animation loop\n- Text showing current word`\n            }]\n          }]\n        })\n      });\n      if (!response.ok) {\n        const errorText = await response.text();\n        console.error(\"Backend response error:\", errorText);\n        throw new Error(`Backend error: ${response.status} - ${errorText}`);\n      }\n      const data = await response.json();\n      console.log(\"Animation response:\", data);\n      if (!data.candidates || !data.candidates[0]) {\n        throw new Error(\"No response from Gemini API\");\n      }\n      let htmlCode = data.candidates[0].content.parts[0].text;\n      console.log(\"Raw HTML received (first 200 chars):\", htmlCode.substring(0, 200));\n\n      // Clean up the HTML code - remove any markdown formatting\n      htmlCode = htmlCode.replace(/```html\\n?/gi, '').replace(/```\\n?/g, '').trim();\n\n      // Check if HTML starts correctly\n      if (!htmlCode.toLowerCase().startsWith('<!doctype') && !htmlCode.toLowerCase().startsWith('<html')) {\n        console.warn(\"HTML doesn't start with DOCTYPE, adding it...\");\n        htmlCode = '<!DOCTYPE html>\\n' + htmlCode;\n      }\n      console.log(\"Cleaned HTML (first 200 chars):\", htmlCode.substring(0, 200));\n      return htmlCode;\n    } catch (error) {\n      console.error(\"Error generating animation:\", error);\n      setError(`Animation error: ${error.message}`);\n      return `<html><body style=\"display:flex;align-items:center;justify-content:center;height:100%;font-family:Arial;color:#ef4444;text-align:center;padding:20px;\">\n        <div>\n          <h3>‚ùå Error generating animation</h3>\n          <p>${error.message}</p>\n          <p style=\"font-size:12px;color:#666;\">Check browser console for details</p>\n        </div>\n      </body></html>`;\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n  const handleVideoUpload = async e => {\n    const file = e.target.files[0];\n    if (file) {\n      const tempMessage = {\n        id: Date.now(),\n        type: 'deaf',\n        content: 'Processing video...',\n        videoName: file.name,\n        videoUrl: URL.createObjectURL(file),\n        convertedText: 'Converting sign language to text...',\n        timestamp: new Date().toLocaleTimeString([], {\n          hour: '2-digit',\n          minute: '2-digit'\n        }),\n        isProcessing: true\n      };\n      setMessages(prev => [...prev, tempMessage]);\n      const convertedText = await convertVideoToText(file);\n      setMessages(prev => prev.map(msg => msg.id === tempMessage.id ? {\n        ...msg,\n        convertedText,\n        isProcessing: false\n      } : msg));\n    }\n  };\n  const handleTextSend = async () => {\n    if (textInput.trim()) {\n      const tempMessage = {\n        id: Date.now(),\n        type: 'normal',\n        content: textInput,\n        animationHtml: null,\n        timestamp: new Date().toLocaleTimeString([], {\n          hour: '2-digit',\n          minute: '2-digit'\n        }),\n        isProcessing: true\n      };\n      setMessages(prev => [...prev, tempMessage]);\n      const currentText = textInput;\n      setTextInput('');\n      const animationHtml = await generateSignLanguageAnimation(currentText);\n      setMessages(prev => prev.map(msg => msg.id === tempMessage.id ? {\n        ...msg,\n        animationHtml,\n        isProcessing: false\n      } : msg));\n    }\n  };\n\n  // Start video recording\n  const startRecording = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({\n        video: true,\n        audio: false\n      });\n      videoStreamRef.current = stream;\n      chunksRef.current = [];\n\n      // Show preview\n      if (videoPreviewRef.current) {\n        videoPreviewRef.current.srcObject = stream;\n        videoPreviewRef.current.play();\n      }\n      const mediaRecorder = new MediaRecorder(stream, {\n        mimeType: 'video/webm'\n      });\n      mediaRecorder.ondataavailable = event => {\n        if (event.data.size > 0) {\n          chunksRef.current.push(event.data);\n        }\n      };\n      mediaRecorder.onstop = () => {\n        const blob = new Blob(chunksRef.current, {\n          type: 'video/webm'\n        });\n        // setRecordedBlob(blob);\n        setRecordedVideoUrl(URL.createObjectURL(blob));\n\n        // Stop preview\n        if (videoPreviewRef.current) {\n          videoPreviewRef.current.srcObject = null;\n        }\n\n        // Stop all tracks\n        if (videoStreamRef.current) {\n          videoStreamRef.current.getTracks().forEach(track => track.stop());\n        }\n      };\n      mediaRecorderRef.current = mediaRecorder;\n      mediaRecorder.start();\n      setIsRecording(true);\n      setError(null);\n    } catch (err) {\n      console.error('Error accessing camera:', err);\n      setError('Could not access camera. Please grant camera permissions.');\n    }\n  };\n\n  // Stop video recording\n  const stopRecording = () => {\n    if (mediaRecorderRef.current && isRecording) {\n      mediaRecorderRef.current.stop();\n      setIsRecording(false);\n    }\n  };\n\n  // Send recorded video\n  const sendRecordedVideo = async () => {\n    if (!recordedBlob) return;\n    const tempMessage = {\n      id: Date.now(),\n      type: 'deaf',\n      content: 'Processing recorded video...',\n      videoName: `recording_${Date.now()}.webm`,\n      videoUrl: recordedVideoUrl,\n      convertedText: 'Converting sign language to text...',\n      timestamp: new Date().toLocaleTimeString([], {\n        hour: '2-digit',\n        minute: '2-digit'\n      }),\n      isProcessing: true\n    };\n    setMessages(prev => [...prev, tempMessage]);\n\n    // Convert blob to file\n    const file = new File([recordedBlob], tempMessage.videoName, {\n      type: 'video/webm'\n    });\n    const convertedText = await convertVideoToText(file);\n    setMessages(prev => prev.map(msg => msg.id === tempMessage.id ? {\n      ...msg,\n      convertedText,\n      isProcessing: false\n    } : msg));\n\n    // Clear recorded video\n    setRecordedBlob(null);\n    setRecordedVideoUrl(null);\n  };\n\n  // Start audio recording\n  const startAudioRecording = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({\n        audio: true\n      });\n      audioStreamRef.current = stream;\n      audioChunksRef.current = [];\n      const mediaRecorder = new MediaRecorder(stream);\n      mediaRecorder.ondataavailable = event => {\n        if (event.data.size > 0) {\n          audioChunksRef.current.push(event.data);\n        }\n      };\n      mediaRecorder.onstop = async () => {\n        const blob = new Blob(audioChunksRef.current, {\n          type: 'audio/webm'\n        });\n        setRecordedAudioBlob(blob);\n\n        // Stop all audio tracks\n        if (audioStreamRef.current) {\n          audioStreamRef.current.getTracks().forEach(track => track.stop());\n        }\n\n        // Process audio to text\n        try {\n          const transcript = await convertAudioToText(blob);\n          const tempMessage = {\n            id: Date.now(),\n            type: 'normal',\n            content: transcript,\n            animationHtml: null,\n            timestamp: new Date().toLocaleTimeString([], {\n              hour: '2-digit',\n              minute: '2-digit'\n            }),\n            isProcessing: true\n          };\n          setMessages(prev => [...prev, tempMessage]);\n          const animationHtml = await generateSignLanguageAnimation(transcript);\n          setMessages(prev => prev.map(msg => msg.id === tempMessage.id ? {\n            ...msg,\n            animationHtml,\n            isProcessing: false\n          } : msg));\n        } catch (err) {\n          console.error('Error converting audio:', err);\n          setError('Could not convert audio to text. Please try again.');\n        }\n        setRecordedAudioBlob(null);\n      };\n      audioRecorderRef.current = mediaRecorder;\n      mediaRecorder.start();\n      setIsRecordingAudio(true);\n      setError(null);\n    } catch (err) {\n      console.error('Error accessing microphone:', err);\n      setError('Could not access microphone. Please grant microphone permissions.');\n    }\n  };\n\n  // Stop audio recording\n  const stopAudioRecording = () => {\n    if (audioRecorderRef.current && isRecordingAudio) {\n      audioRecorderRef.current.stop();\n      setIsRecordingAudio(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 flex flex-col\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white shadow-md border-b border-gray-200\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-6xl mx-auto px-6 py-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gradient-to-r from-indigo-600 to-purple-600 p-2 rounded-lg\",\n              children: /*#__PURE__*/_jsxDEV(Video, {\n                className: \"w-6 h-6 text-white\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 424,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent\",\n                children: \"SignBridge AI\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 427,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Powered by Gemini 2.0 Flash\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 430,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 426,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 422,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-indigo-100 p-2 rounded-full inline-block\",\n                children: /*#__PURE__*/_jsxDEV(User, {\n                  className: \"w-5 h-5 text-indigo-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 436,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 435,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-600 mt-1\",\n                children: \"Deaf User\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 438,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 434,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-purple-100 p-2 rounded-full inline-block\",\n                children: /*#__PURE__*/_jsxDEV(UserCircle, {\n                  className: \"w-5 h-5 text-purple-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 442,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 441,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-600 mt-1\",\n                children: \"User\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 444,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 440,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 433,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 max-w-6xl mx-auto w-full mt-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n          className: \"w-5 h-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 455,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-medium\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 453,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 max-w-6xl w-full mx-auto px-6 py-8 overflow-y-auto\",\n      children: messages.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col items-center justify-center h-full text-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white p-8 rounded-2xl shadow-lg max-w-md\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gradient-to-r from-indigo-600 to-purple-600 p-4 rounded-full inline-block mb-4\",\n            children: /*#__PURE__*/_jsxDEV(MessageSquare, {\n              className: \"w-12 h-12 text-white\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 467,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 466,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold text-gray-800 mb-2\",\n            children: \"Start a Conversation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 469,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600 mb-4\",\n            children: \"Record video, upload, type, or speak\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 470,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-2 justify-center text-sm text-gray-500 mb-3 flex-wrap\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"bg-red-100 px-3 py-1 rounded-full\",\n              children: \"\\uD83D\\uDCF9 Record Video\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 474,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"bg-green-100 px-3 py-1 rounded-full\",\n              children: \"\\uD83C\\uDFA4 Voice\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 475,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"bg-indigo-100 px-3 py-1 rounded-full\",\n              children: \"Video \\u2192 Text\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 476,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"bg-purple-100 px-3 py-1 rounded-full\",\n              children: \"Text \\u2192 Animation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 477,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 473,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-400\",\n            children: \"\\u2728 Animations with detailed finger movements!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 479,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-red-500 mt-2\",\n            children: \"\\u26A0\\uFE0F Backend must be running: node server.js\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 480,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 465,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 464,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-6\",\n        children: messages.map(message => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `flex ${message.type === 'deaf' ? 'justify-start' : 'justify-end'}`,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `max-w-2xl w-full ${message.type === 'deaf' ? 'mr-auto' : 'ml-auto'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2 mb-2\",\n              children: [message.type === 'deaf' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-indigo-100 p-1.5 rounded-full\",\n                  children: /*#__PURE__*/_jsxDEV(User, {\n                    className: \"w-4 h-4 text-indigo-600\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 495,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 494,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm font-medium text-gray-700\",\n                  children: \"Deaf User\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 497,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm font-medium text-gray-700\",\n                  children: \"User\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 501,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-purple-100 p-1.5 rounded-full\",\n                  children: /*#__PURE__*/_jsxDEV(UserCircle, {\n                    className: \"w-4 h-4 text-purple-600\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 503,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 502,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xs text-gray-400\",\n                children: message.timestamp\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 507,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 491,\n              columnNumber: 19\n            }, this), message.type === 'deaf' ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white rounded-2xl shadow-md p-4 border-2 border-indigo-200\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-gradient-to-r from-indigo-100 to-purple-100 rounded-lg p-4 mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-2 text-indigo-700 mb-2\",\n                  children: [/*#__PURE__*/_jsxDEV(Video, {\n                    className: \"w-5 h-5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 514,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-medium text-sm\",\n                    children: message.videoName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 515,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 513,\n                  columnNumber: 25\n                }, this), message.videoUrl ? /*#__PURE__*/_jsxDEV(\"video\", {\n                  src: message.videoUrl,\n                  controls: true,\n                  className: \"w-full rounded-lg\",\n                  style: {\n                    maxHeight: '300px'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 518,\n                  columnNumber: 27\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-indigo-600 h-32 rounded-lg flex items-center justify-center\",\n                  children: message.isProcessing ? /*#__PURE__*/_jsxDEV(Loader2, {\n                    className: \"w-12 h-12 text-white animate-spin\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 527,\n                    columnNumber: 31\n                  }, this) : /*#__PURE__*/_jsxDEV(Video, {\n                    className: \"w-12 h-12 text-white opacity-50\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 529,\n                    columnNumber: 31\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 525,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 512,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-gray-50 rounded-lg p-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between mb-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs font-semibold text-gray-500\",\n                    children: \"Converted Text:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 536,\n                    columnNumber: 27\n                  }, this), !message.isProcessing && message.convertedText && /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => speakText(message.convertedText),\n                    className: \"flex items-center gap-1 bg-indigo-600 hover:bg-indigo-700 text-white px-3 py-1 rounded-lg text-xs transition-colors\",\n                    children: [/*#__PURE__*/_jsxDEV(Volume2, {\n                      className: \"w-3 h-3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 542,\n                      columnNumber: 31\n                    }, this), \"Listen\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 538,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 535,\n                  columnNumber: 25\n                }, this), message.isProcessing ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-2 text-gray-500\",\n                  children: [/*#__PURE__*/_jsxDEV(Loader2, {\n                    className: \"w-4 h-4 animate-spin\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 549,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm\",\n                    children: \"Processing...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 550,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 548,\n                  columnNumber: 27\n                }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-700 whitespace-pre-wrap\",\n                  children: message.convertedText\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 553,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 534,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 511,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gradient-to-r from-purple-600 to-indigo-600 rounded-2xl shadow-md p-4 text-white\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-2 mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(MessageSquare, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 560,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"font-medium\",\n                  children: message.content\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 561,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 559,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-white/20 rounded-lg p-4 backdrop-blur-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-2 mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(Play, {\n                    className: \"w-5 h-5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 565,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm font-medium\",\n                    children: \"ASL Animation with Finger Details\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 566,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 564,\n                  columnNumber: 25\n                }, this), message.isProcessing ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex flex-col items-center justify-center py-12 gap-3\",\n                  children: [/*#__PURE__*/_jsxDEV(Loader2, {\n                    className: \"w-10 h-10 animate-spin opacity-70\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 570,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm opacity-90\",\n                    children: \"Generating detailed animation...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 571,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 569,\n                  columnNumber: 27\n                }, this) : message.animationHtml ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-white rounded-lg overflow-hidden\",\n                  children: /*#__PURE__*/_jsxDEV(\"iframe\", {\n                    srcDoc: message.animationHtml,\n                    className: \"w-full border-0\",\n                    style: {\n                      height: '450px',\n                      minHeight: '450px'\n                    },\n                    sandbox: \"allow-scripts\",\n                    title: \"Sign Language Animation\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 575,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 574,\n                  columnNumber: 27\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-white/90 text-gray-800 rounded-lg p-4 text-center\",\n                  children: \"Failed to generate animation\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 584,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 563,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 558,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 17\n          }, this)\n        }, message.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 486,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 484,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 462,\n      columnNumber: 7\n    }, this), isProcessing && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-6xl mx-auto px-6 pb-2\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-indigo-100 text-indigo-700 px-4 py-2 rounded-lg flex items-center gap-2 text-sm\",\n        children: [/*#__PURE__*/_jsxDEV(Loader2, {\n          className: \"w-4 h-4 animate-spin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 602,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Gemini AI is processing...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 603,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 601,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 600,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white border-t-2 border-gray-200 shadow-lg\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-6xl mx-auto px-6 py-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gradient-to-br from-indigo-50 to-purple-50 rounded-xl p-4 border-2 border-indigo-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2 mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-indigo-100 p-1.5 rounded-full\",\n                children: /*#__PURE__*/_jsxDEV(User, {\n                  className: \"w-4 h-4 text-indigo-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 616,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 615,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"font-semibold text-gray-800\",\n                children: \"Deaf User\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 618,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 614,\n              columnNumber: 15\n            }, this), isRecording && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3 bg-white rounded-lg p-3 border-2 border-red-500\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-2 mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-3 h-3 bg-red-600 rounded-full animate-pulse\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 625,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs font-medium text-red-700\",\n                  children: \"Recording...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 626,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 624,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"video\", {\n                ref: videoPreviewRef,\n                autoPlay: true,\n                muted: true,\n                className: \"w-full rounded-lg\",\n                style: {\n                  maxHeight: '200px'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 628,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 623,\n              columnNumber: 17\n            }, this), recordedVideoUrl && !isRecording && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3 bg-white rounded-lg p-3 border-2 border-indigo-300\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs font-medium text-indigo-700 mb-2\",\n                children: \"Recorded Video:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 641,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"video\", {\n                src: recordedVideoUrl,\n                controls: true,\n                className: \"w-full rounded-lg mb-2\",\n                style: {\n                  maxHeight: '200px'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 642,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: sendRecordedVideo,\n                disabled: isProcessing,\n                className: \"w-full bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg font-medium transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed\",\n                children: [/*#__PURE__*/_jsxDEV(Send, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 653,\n                  columnNumber: 21\n                }, this), \"Send Recording\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 648,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 640,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: [!isRecording && !recordedVideoUrl && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: startRecording,\n                disabled: isProcessing,\n                className: \"w-full bg-red-600 hover:bg-red-700 text-white px-4 py-3 rounded-lg font-medium transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed\",\n                children: [/*#__PURE__*/_jsxDEV(Camera, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 667,\n                  columnNumber: 21\n                }, this), \"Start Recording\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 662,\n                columnNumber: 19\n              }, this), isRecording && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: stopRecording,\n                className: \"w-full bg-gray-800 hover:bg-gray-900 text-white px-4 py-3 rounded-lg font-medium transition-all flex items-center justify-center gap-2 animate-pulse\",\n                children: [/*#__PURE__*/_jsxDEV(StopCircle, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 677,\n                  columnNumber: 21\n                }, this), \"Stop Recording\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 673,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 660,\n              columnNumber: 15\n            }, this), !isRecording && !recordedVideoUrl && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"absolute inset-0 flex items-center\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-full border-t border-indigo-300\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 688,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 687,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"relative flex justify-center text-xs\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"bg-indigo-50 px-2 text-gray-500\",\n                    children: \"or\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 691,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 690,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 686,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"cursor-pointer block mt-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"file\",\n                  accept: \"video/*,image/*\",\n                  onChange: handleVideoUpload,\n                  className: \"hidden\",\n                  disabled: isProcessing || isRecording\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 696,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `bg-white hover:bg-gray-50 transition-colors border-2 border-dashed border-indigo-300 rounded-lg p-4 text-center ${isProcessing || isRecording ? 'opacity-50 cursor-not-allowed' : ''}`,\n                  children: [/*#__PURE__*/_jsxDEV(Upload, {\n                    className: \"w-6 h-6 text-indigo-600 mx-auto mb-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 704,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm font-medium text-gray-700\",\n                    children: \"Upload Video/Image\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 705,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-gray-500 mt-1\",\n                    children: \"Gemini will convert to text\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 706,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 703,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 695,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 613,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-4 border-2 border-purple-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2 mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-purple-100 p-1.5 rounded-full\",\n                children: /*#__PURE__*/_jsxDEV(UserCircle, {\n                  className: \"w-4 h-4 text-purple-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 717,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 716,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"font-semibold text-gray-800\",\n                children: \"User\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 719,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 715,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: !isRecordingAudio ? /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: startAudioRecording,\n                disabled: isProcessing,\n                className: \"w-full bg-green-600 hover:bg-green-700 text-white px-4 py-3 rounded-lg font-medium transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed\",\n                children: [/*#__PURE__*/_jsxDEV(Mic, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 730,\n                  columnNumber: 21\n                }, this), \"Record Voice Message\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 725,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: stopAudioRecording,\n                className: \"w-full bg-gray-800 hover:bg-gray-900 text-white px-4 py-3 rounded-lg font-medium transition-all flex items-center justify-center gap-2 animate-pulse\",\n                children: [/*#__PURE__*/_jsxDEV(StopCircle, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 738,\n                  columnNumber: 21\n                }, this), \"Stop Recording\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 734,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 723,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute inset-0 flex items-center\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-full border-t border-purple-300\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 747,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 746,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative flex justify-center text-xs\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"bg-purple-50 px-2 text-gray-500\",\n                  children: \"or type\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 750,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 749,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 745,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-2 mt-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: textInput,\n                onChange: e => setTextInput(e.target.value),\n                onKeyPress: e => e.key === 'Enter' && !isProcessing && handleTextSend(),\n                placeholder: \"Type your message...\",\n                disabled: isProcessing,\n                className: \"flex-1 px-4 py-3 rounded-lg border-2 border-purple-200 focus:border-purple-400 focus:outline-none disabled:opacity-50\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 755,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleTextSend,\n                disabled: isProcessing || !textInput.trim(),\n                className: \"bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white px-6 py-3 rounded-lg font-medium transition-all transform hover:scale-105 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none\",\n                children: /*#__PURE__*/_jsxDEV(Send, {\n                  className: \"w-5 h-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 769,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 764,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 754,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500 mt-2\",\n              children: \"\\u2728 Get detailed finger animations\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 772,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 714,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 611,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 610,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 609,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 417,\n    columnNumber: 5\n  }, this);\n}\n_s(SignLanguageChat, \"omnJG5M3sylIlvpmScQ+uVkYshk=\");\n_c = SignLanguageChat;\nvar _c;\n$RefreshReg$(_c, \"SignLanguageChat\");","map":{"version":3,"names":["React","useState","useRef","Upload","Send","Video","MessageSquare","User","UserCircle","Loader2","Play","AlertCircle","Camera","StopCircle","Mic","Volume2","jsxDEV","_jsxDEV","Fragment","_Fragment","SignLanguageChat","_s","messages","setMessages","textInput","setTextInput","isProcessing","setIsProcessing","error","setError","isRecording","setIsRecording","recordedBlob","setRecordedBlob","recordedVideoUrl","setRecordedVideoUrl","isRecordingAudio","setIsRecordingAudio","recordedAudioBlob","setRecordedAudioBlob","mediaRecorderRef","audioRecorderRef","videoStreamRef","audioStreamRef","videoPreviewRef","chunksRef","audioChunksRef","convertAudioToText","audioBlob","Promise","resolve","reject","recognition","window","SpeechRecognition","webkitSpeechRecognition","lang","continuous","interimResults","audioUrl","URL","createObjectURL","audio","Audio","onstart","play","onresult","event","transcript","results","onerror","Error","start","speakText","text","utterance","SpeechSynthesisUtterance","rate","pitch","volume","speechSynthesis","speak","convertVideoToText","videoFile","_data$candidates","_data$candidates$","_data$candidates$$con","_data$candidates$$con2","_data$candidates$$con3","base64Video","reader","FileReader","onload","result","split","readAsDataURL","response","fetch","method","headers","body","JSON","stringify","contents","parts","inline_data","mime_type","type","data","ok","status","json","console","log","convertedText","candidates","content","message","generateSignLanguageAnimation","errorText","htmlCode","substring","replace","trim","toLowerCase","startsWith","warn","handleVideoUpload","e","file","target","files","tempMessage","id","Date","now","videoName","name","videoUrl","timestamp","toLocaleTimeString","hour","minute","prev","map","msg","handleTextSend","animationHtml","currentText","startRecording","stream","navigator","mediaDevices","getUserMedia","video","current","srcObject","mediaRecorder","MediaRecorder","mimeType","ondataavailable","size","push","onstop","blob","Blob","getTracks","forEach","track","stop","err","stopRecording","sendRecordedVideo","File","startAudioRecording","stopAudioRecording","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","src","controls","style","maxHeight","onClick","srcDoc","height","minHeight","sandbox","title","ref","autoPlay","muted","disabled","accept","onChange","value","onKeyPress","key","placeholder","_c","$RefreshReg$"],"sources":["/home/user/Documents/patent/signbridge/src/SignLanguageChat.jsx"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport { Upload, Send, Video, MessageSquare, User, UserCircle, Loader2, Play, AlertCircle, Camera, StopCircle, Mic, Volume2 } from 'lucide-react';\n\nexport default function SignLanguageChat() {\n  const [messages, setMessages] = useState([]);\n  const [textInput, setTextInput] = useState('');\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [error, setError] = useState(null);\n  const [isRecording, setIsRecording] = useState(false);\n  const [recordedBlob, setRecordedBlob] = useState(null);\n  const [recordedVideoUrl, setRecordedVideoUrl] = useState(null);\n  const [isRecordingAudio, setIsRecordingAudio] = useState(false);\n  const [recordedAudioBlob, setRecordedAudioBlob] = useState(null);\n  const mediaRecorderRef = useRef(null);\n  const audioRecorderRef = useRef(null);\n  const videoStreamRef = useRef(null);\n  const audioStreamRef = useRef(null);\n  const videoPreviewRef = useRef(null);\n  const chunksRef = useRef([]);\n  const audioChunksRef = useRef([]);\n\n  // Convert audio to text using Web Speech API\n  const convertAudioToText = async (audioBlob) => {\n    return new Promise((resolve, reject) => {\n      const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();\n      recognition.lang = 'en-US';\n      recognition.continuous = false;\n      recognition.interimResults = false;\n\n      const audioUrl = URL.createObjectURL(audioBlob);\n      const audio = new Audio(audioUrl);\n\n      recognition.onstart = () => {\n        audio.play();\n      };\n\n      recognition.onresult = (event) => {\n        const transcript = event.results[0][0].transcript;\n        resolve(transcript);\n      };\n\n      recognition.onerror = (event) => {\n        reject(new Error('Speech recognition error: ' + event.error));\n      };\n\n      recognition.start();\n    });\n  };\n\n  // Text to speech function\n  const speakText = (text) => {\n    if ('speechSynthesis' in window) {\n      const utterance = new SpeechSynthesisUtterance(text);\n      utterance.rate = 0.9;\n      utterance.pitch = 1;\n      utterance.volume = 1;\n      window.speechSynthesis.speak(utterance);\n    }\n  };\n\n  // Convert video to text using Gemini API via backend\n  const convertVideoToText = async (videoFile) => {\n    setIsProcessing(true);\n    setError(null);\n    try {\n      const base64Video = await new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onload = () => resolve(reader.result.split(',')[1]);\n        reader.onerror = reject;\n        reader.readAsDataURL(videoFile);\n      });\n\n      const response = await fetch(\"http://localhost:5000/api/video-to-text\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          contents: [{\n            parts: [\n              {\n                text: \"You are a sign language interpreter AI. Analyze this video/image and describe what sign language gestures you can observe. Based on the visual cues, body language, and hand movements, provide a natural text translation of what the person is trying to communicate. Be conversational and natural in your interpretation. Give only the translated text, nothing else.\"\n              },\n              {\n                inline_data: {\n                  mime_type: videoFile.type,\n                  data: base64Video\n                }\n              }\n            ]\n          }]\n        })\n      });\n\n      if (!response.ok) {\n        throw new Error(`Backend error: ${response.status}`);\n      }\n\n      const data = await response.json();\n      console.log(\"Video to text response:\", data);\n      const convertedText = data.candidates?.[0]?.content?.parts?.[0]?.text || \"Could not interpret the sign language.\";\n\n      return convertedText;\n    } catch (error) {\n      console.error(\"Error converting video:\", error);\n      setError(\"Make sure backend is running on port 5000: node server.js\");\n      return `Error: ${error.message}`;\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  // Generate sign language animation using Gemini API via backend\n  const generateSignLanguageAnimation = async (text) => {\n    setIsProcessing(true);\n    setError(null);\n    try {\n      console.log(\"Generating animation for:\", text);\n      \n      const response = await fetch(\"http://localhost:5000/api/text-to-animation\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          contents: [{\n            parts: [{\n              text: `Create a complete HTML5 Canvas animation for American Sign Language (ASL) signs for: \"${text}\"\n\nRequirements:\n1. Create a stick figure with detailed hands showing 5 fingers each\n2. Animate ASL hand shapes for each word\n3. Show clear finger movements\n4. Add movement arrows\n5. Display the word being signed\n6. Use vibrant colors\n7. Loop the animation\n8. Canvas size: 600x400px\n\nIMPORTANT: Return ONLY pure HTML code. Do NOT include any markdown formatting like \\`\\`\\`html or \\`\\`\\`. Start directly with <!DOCTYPE html> and end with </html>. No explanations, just the HTML code.\n\nThe HTML should include:\n- Complete <!DOCTYPE html> declaration\n- <head> with <style> for styling\n- <body> with <canvas> element\n- <script> with animation code\n- Stick figure with visible fingers\n- Smooth animation loop\n- Text showing current word`\n            }]\n          }]\n        })\n      });\n\n      if (!response.ok) {\n        const errorText = await response.text();\n        console.error(\"Backend response error:\", errorText);\n        throw new Error(`Backend error: ${response.status} - ${errorText}`);\n      }\n\n      const data = await response.json();\n      console.log(\"Animation response:\", data);\n      \n      if (!data.candidates || !data.candidates[0]) {\n        throw new Error(\"No response from Gemini API\");\n      }\n\n      let htmlCode = data.candidates[0].content.parts[0].text;\n      console.log(\"Raw HTML received (first 200 chars):\", htmlCode.substring(0, 200));\n\n      // Clean up the HTML code - remove any markdown formatting\n      htmlCode = htmlCode\n        .replace(/```html\\n?/gi, '')\n        .replace(/```\\n?/g, '')\n        .trim();\n\n      // Check if HTML starts correctly\n      if (!htmlCode.toLowerCase().startsWith('<!doctype') && !htmlCode.toLowerCase().startsWith('<html')) {\n        console.warn(\"HTML doesn't start with DOCTYPE, adding it...\");\n        htmlCode = '<!DOCTYPE html>\\n' + htmlCode;\n      }\n\n      console.log(\"Cleaned HTML (first 200 chars):\", htmlCode.substring(0, 200));\n\n      return htmlCode;\n    } catch (error) {\n      console.error(\"Error generating animation:\", error);\n      setError(`Animation error: ${error.message}`);\n      return `<html><body style=\"display:flex;align-items:center;justify-content:center;height:100%;font-family:Arial;color:#ef4444;text-align:center;padding:20px;\">\n        <div>\n          <h3>‚ùå Error generating animation</h3>\n          <p>${error.message}</p>\n          <p style=\"font-size:12px;color:#666;\">Check browser console for details</p>\n        </div>\n      </body></html>`;\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  const handleVideoUpload = async (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      const tempMessage = {\n        id: Date.now(),\n        type: 'deaf',\n        content: 'Processing video...',\n        videoName: file.name,\n        videoUrl: URL.createObjectURL(file),\n        convertedText: 'Converting sign language to text...',\n        timestamp: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }),\n        isProcessing: true\n      };\n      \n      setMessages(prev => [...prev, tempMessage]);\n\n      const convertedText = await convertVideoToText(file);\n\n      setMessages(prev => prev.map(msg => \n        msg.id === tempMessage.id \n          ? { ...msg, convertedText, isProcessing: false }\n          : msg\n      ));\n    }\n  };\n\n  const handleTextSend = async () => {\n    if (textInput.trim()) {\n      const tempMessage = {\n        id: Date.now(),\n        type: 'normal',\n        content: textInput,\n        animationHtml: null,\n        timestamp: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }),\n        isProcessing: true\n      };\n      \n      setMessages(prev => [...prev, tempMessage]);\n      const currentText = textInput;\n      setTextInput('');\n\n      const animationHtml = await generateSignLanguageAnimation(currentText);\n\n      setMessages(prev => prev.map(msg => \n        msg.id === tempMessage.id \n          ? { ...msg, animationHtml, isProcessing: false }\n          : msg\n      ));\n    }\n  };\n\n  // Start video recording\n  const startRecording = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({ \n        video: true, \n        audio: false \n      });\n      \n      videoStreamRef.current = stream;\n      chunksRef.current = [];\n      \n      // Show preview\n      if (videoPreviewRef.current) {\n        videoPreviewRef.current.srcObject = stream;\n        videoPreviewRef.current.play();\n      }\n      \n      const mediaRecorder = new MediaRecorder(stream, {\n        mimeType: 'video/webm'\n      });\n      \n      mediaRecorder.ondataavailable = (event) => {\n        if (event.data.size > 0) {\n          chunksRef.current.push(event.data);\n        }\n      };\n      \n      mediaRecorder.onstop = () => {\n        const blob = new Blob(chunksRef.current, { type: 'video/webm' });\n        // setRecordedBlob(blob);\n        setRecordedVideoUrl(URL.createObjectURL(blob));\n        \n        // Stop preview\n        if (videoPreviewRef.current) {\n          videoPreviewRef.current.srcObject = null;\n        }\n        \n        // Stop all tracks\n        if (videoStreamRef.current) {\n          videoStreamRef.current.getTracks().forEach(track => track.stop());\n        }\n      };\n      \n      mediaRecorderRef.current = mediaRecorder;\n      mediaRecorder.start();\n      setIsRecording(true);\n      setError(null);\n    } catch (err) {\n      console.error('Error accessing camera:', err);\n      setError('Could not access camera. Please grant camera permissions.');\n    }\n  };\n\n  // Stop video recording\n  const stopRecording = () => {\n    if (mediaRecorderRef.current && isRecording) {\n      mediaRecorderRef.current.stop();\n      setIsRecording(false);\n    }\n  };\n\n  // Send recorded video\n  const sendRecordedVideo = async () => {\n    if (!recordedBlob) return;\n\n    const tempMessage = {\n      id: Date.now(),\n      type: 'deaf',\n      content: 'Processing recorded video...',\n      videoName: `recording_${Date.now()}.webm`,\n      videoUrl: recordedVideoUrl,\n      convertedText: 'Converting sign language to text...',\n      timestamp: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }),\n      isProcessing: true\n    };\n    \n    setMessages(prev => [...prev, tempMessage]);\n\n    // Convert blob to file\n    const file = new File([recordedBlob], tempMessage.videoName, { type: 'video/webm' });\n    const convertedText = await convertVideoToText(file);\n\n    setMessages(prev => prev.map(msg => \n      msg.id === tempMessage.id \n        ? { ...msg, convertedText, isProcessing: false }\n        : msg\n    ));\n\n    // Clear recorded video\n    setRecordedBlob(null);\n    setRecordedVideoUrl(null);\n  };\n\n  // Start audio recording\n  const startAudioRecording = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n      audioStreamRef.current = stream;\n      audioChunksRef.current = [];\n\n      const mediaRecorder = new MediaRecorder(stream);\n      \n      mediaRecorder.ondataavailable = (event) => {\n        if (event.data.size > 0) {\n          audioChunksRef.current.push(event.data);\n        }\n      };\n      \n      mediaRecorder.onstop = async () => {\n        const blob = new Blob(audioChunksRef.current, { type: 'audio/webm' });\n        setRecordedAudioBlob(blob);\n        \n        // Stop all audio tracks\n        if (audioStreamRef.current) {\n          audioStreamRef.current.getTracks().forEach(track => track.stop());\n        }\n\n        // Process audio to text\n        try {\n          const transcript = await convertAudioToText(blob);\n          \n          const tempMessage = {\n            id: Date.now(),\n            type: 'normal',\n            content: transcript,\n            animationHtml: null,\n            timestamp: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }),\n            isProcessing: true\n          };\n          \n          setMessages(prev => [...prev, tempMessage]);\n          const animationHtml = await generateSignLanguageAnimation(transcript);\n\n          setMessages(prev => prev.map(msg => \n            msg.id === tempMessage.id \n              ? { ...msg, animationHtml, isProcessing: false }\n              : msg\n          ));\n        } catch (err) {\n          console.error('Error converting audio:', err);\n          setError('Could not convert audio to text. Please try again.');\n        }\n        \n        setRecordedAudioBlob(null);\n      };\n      \n      audioRecorderRef.current = mediaRecorder;\n      mediaRecorder.start();\n      setIsRecordingAudio(true);\n      setError(null);\n    } catch (err) {\n      console.error('Error accessing microphone:', err);\n      setError('Could not access microphone. Please grant microphone permissions.');\n    }\n  };\n\n  // Stop audio recording\n  const stopAudioRecording = () => {\n    if (audioRecorderRef.current && isRecordingAudio) {\n      audioRecorderRef.current.stop();\n      setIsRecordingAudio(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 flex flex-col\">\n      {/* Header */}\n      <div className=\"bg-white shadow-md border-b border-gray-200\">\n        <div className=\"max-w-6xl mx-auto px-6 py-4\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"bg-gradient-to-r from-indigo-600 to-purple-600 p-2 rounded-lg\">\n                <Video className=\"w-6 h-6 text-white\" />\n              </div>\n              <div>\n                <h1 className=\"text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent\">\n                  SignBridge AI\n                </h1>\n                <p className=\"text-sm text-gray-600\">Powered by Gemini 2.0 Flash</p>\n              </div>\n            </div>\n            <div className=\"flex gap-4\">\n              <div className=\"text-center\">\n                <div className=\"bg-indigo-100 p-2 rounded-full inline-block\">\n                  <User className=\"w-5 h-5 text-indigo-600\" />\n                </div>\n                <p className=\"text-xs text-gray-600 mt-1\">Deaf User</p>\n              </div>\n              <div className=\"text-center\">\n                <div className=\"bg-purple-100 p-2 rounded-full inline-block\">\n                  <UserCircle className=\"w-5 h-5 text-purple-600\" />\n                </div>\n                <p className=\"text-xs text-gray-600 mt-1\">User</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Error Banner */}\n      {error && (\n        <div className=\"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 max-w-6xl mx-auto w-full mt-4\">\n          <div className=\"flex items-center gap-2\">\n            <AlertCircle className=\"w-5 h-5\" />\n            <p className=\"font-medium\">{error}</p>\n          </div>\n        </div>\n      )}\n\n      {/* Chat Area */}\n      <div className=\"flex-1 max-w-6xl w-full mx-auto px-6 py-8 overflow-y-auto\">\n        {messages.length === 0 ? (\n          <div className=\"flex flex-col items-center justify-center h-full text-center\">\n            <div className=\"bg-white p-8 rounded-2xl shadow-lg max-w-md\">\n              <div className=\"bg-gradient-to-r from-indigo-600 to-purple-600 p-4 rounded-full inline-block mb-4\">\n                <MessageSquare className=\"w-12 h-12 text-white\" />\n              </div>\n              <h2 className=\"text-2xl font-bold text-gray-800 mb-2\">Start a Conversation</h2>\n              <p className=\"text-gray-600 mb-4\">\n                Record video, upload, type, or speak\n              </p>\n              <div className=\"flex gap-2 justify-center text-sm text-gray-500 mb-3 flex-wrap\">\n                <span className=\"bg-red-100 px-3 py-1 rounded-full\">üìπ Record Video</span>\n                <span className=\"bg-green-100 px-3 py-1 rounded-full\">üé§ Voice</span>\n                <span className=\"bg-indigo-100 px-3 py-1 rounded-full\">Video ‚Üí Text</span>\n                <span className=\"bg-purple-100 px-3 py-1 rounded-full\">Text ‚Üí Animation</span>\n              </div>\n              <p className=\"text-xs text-gray-400\">‚ú® Animations with detailed finger movements!</p>\n              <p className=\"text-xs text-red-500 mt-2\">‚ö†Ô∏è Backend must be running: node server.js</p>\n            </div>\n          </div>\n        ) : (\n          <div className=\"space-y-6\">\n            {messages.map((message) => (\n              <div\n                key={message.id}\n                className={`flex ${message.type === 'deaf' ? 'justify-start' : 'justify-end'}`}\n              >\n                <div className={`max-w-2xl w-full ${message.type === 'deaf' ? 'mr-auto' : 'ml-auto'}`}>\n                  <div className=\"flex items-center gap-2 mb-2\">\n                    {message.type === 'deaf' ? (\n                      <>\n                        <div className=\"bg-indigo-100 p-1.5 rounded-full\">\n                          <User className=\"w-4 h-4 text-indigo-600\" />\n                        </div>\n                        <span className=\"text-sm font-medium text-gray-700\">Deaf User</span>\n                      </>\n                    ) : (\n                      <>\n                        <span className=\"text-sm font-medium text-gray-700\">User</span>\n                        <div className=\"bg-purple-100 p-1.5 rounded-full\">\n                          <UserCircle className=\"w-4 h-4 text-purple-600\" />\n                        </div>\n                      </>\n                    )}\n                    <span className=\"text-xs text-gray-400\">{message.timestamp}</span>\n                  </div>\n                  \n                  {message.type === 'deaf' ? (\n                    <div className=\"bg-white rounded-2xl shadow-md p-4 border-2 border-indigo-200\">\n                      <div className=\"bg-gradient-to-r from-indigo-100 to-purple-100 rounded-lg p-4 mb-3\">\n                        <div className=\"flex items-center gap-2 text-indigo-700 mb-2\">\n                          <Video className=\"w-5 h-5\" />\n                          <span className=\"font-medium text-sm\">{message.videoName}</span>\n                        </div>\n                        {message.videoUrl ? (\n                          <video \n                            src={message.videoUrl} \n                            controls \n                            className=\"w-full rounded-lg\"\n                            style={{ maxHeight: '300px' }}\n                          />\n                        ) : (\n                          <div className=\"bg-indigo-600 h-32 rounded-lg flex items-center justify-center\">\n                            {message.isProcessing ? (\n                              <Loader2 className=\"w-12 h-12 text-white animate-spin\" />\n                            ) : (\n                              <Video className=\"w-12 h-12 text-white opacity-50\" />\n                            )}\n                          </div>\n                        )}\n                      </div>\n                      <div className=\"bg-gray-50 rounded-lg p-4\">\n                        <div className=\"flex items-center justify-between mb-2\">\n                          <p className=\"text-xs font-semibold text-gray-500\">Converted Text:</p>\n                          {!message.isProcessing && message.convertedText && (\n                            <button\n                              onClick={() => speakText(message.convertedText)}\n                              className=\"flex items-center gap-1 bg-indigo-600 hover:bg-indigo-700 text-white px-3 py-1 rounded-lg text-xs transition-colors\"\n                            >\n                              <Volume2 className=\"w-3 h-3\" />\n                              Listen\n                            </button>\n                          )}\n                        </div>\n                        {message.isProcessing ? (\n                          <div className=\"flex items-center gap-2 text-gray-500\">\n                            <Loader2 className=\"w-4 h-4 animate-spin\" />\n                            <span className=\"text-sm\">Processing...</span>\n                          </div>\n                        ) : (\n                          <p className=\"text-gray-700 whitespace-pre-wrap\">{message.convertedText}</p>\n                        )}\n                      </div>\n                    </div>\n                  ) : (\n                    <div className=\"bg-gradient-to-r from-purple-600 to-indigo-600 rounded-2xl shadow-md p-4 text-white\">\n                      <div className=\"flex items-center gap-2 mb-3\">\n                        <MessageSquare className=\"w-4 h-4\" />\n                        <p className=\"font-medium\">{message.content}</p>\n                      </div>\n                      <div className=\"bg-white/20 rounded-lg p-4 backdrop-blur-sm\">\n                        <div className=\"flex items-center gap-2 mb-3\">\n                          <Play className=\"w-5 h-5\" />\n                          <span className=\"text-sm font-medium\">ASL Animation with Finger Details</span>\n                        </div>\n                        {message.isProcessing ? (\n                          <div className=\"flex flex-col items-center justify-center py-12 gap-3\">\n                            <Loader2 className=\"w-10 h-10 animate-spin opacity-70\" />\n                            <p className=\"text-sm opacity-90\">Generating detailed animation...</p>\n                          </div>\n                        ) : message.animationHtml ? (\n                          <div className=\"bg-white rounded-lg overflow-hidden\">\n                            <iframe\n                              srcDoc={message.animationHtml}\n                              className=\"w-full border-0\"\n                              style={{ height: '450px', minHeight: '450px' }}\n                              sandbox=\"allow-scripts\"\n                              title=\"Sign Language Animation\"\n                            />\n                          </div>\n                        ) : (\n                          <div className=\"bg-white/90 text-gray-800 rounded-lg p-4 text-center\">\n                            Failed to generate animation\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                  )}\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n\n      {/* Processing Indicator */}\n      {isProcessing && (\n        <div className=\"max-w-6xl mx-auto px-6 pb-2\">\n          <div className=\"bg-indigo-100 text-indigo-700 px-4 py-2 rounded-lg flex items-center gap-2 text-sm\">\n            <Loader2 className=\"w-4 h-4 animate-spin\" />\n            <span>Gemini AI is processing...</span>\n          </div>\n        </div>\n      )}\n\n      {/* Input Area */}\n      <div className=\"bg-white border-t-2 border-gray-200 shadow-lg\">\n        <div className=\"max-w-6xl mx-auto px-6 py-6\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            {/* Deaf User Upload/Record */}\n            <div className=\"bg-gradient-to-br from-indigo-50 to-purple-50 rounded-xl p-4 border-2 border-indigo-200\">\n              <div className=\"flex items-center gap-2 mb-3\">\n                <div className=\"bg-indigo-100 p-1.5 rounded-full\">\n                  <User className=\"w-4 h-4 text-indigo-600\" />\n                </div>\n                <h3 className=\"font-semibold text-gray-800\">Deaf User</h3>\n              </div>\n              \n              {/* Video Preview while recording */}\n              {isRecording && (\n                <div className=\"mb-3 bg-white rounded-lg p-3 border-2 border-red-500\">\n                  <div className=\"flex items-center gap-2 mb-2\">\n                    <div className=\"w-3 h-3 bg-red-600 rounded-full animate-pulse\"></div>\n                    <p className=\"text-xs font-medium text-red-700\">Recording...</p>\n                  </div>\n                  <video \n                    ref={videoPreviewRef}\n                    autoPlay\n                    muted\n                    className=\"w-full rounded-lg\"\n                    style={{ maxHeight: '200px' }}\n                  />\n                </div>\n              )}\n\n              {/* Recording Preview */}\n              {recordedVideoUrl && !isRecording && (\n                <div className=\"mb-3 bg-white rounded-lg p-3 border-2 border-indigo-300\">\n                  <p className=\"text-xs font-medium text-indigo-700 mb-2\">Recorded Video:</p>\n                  <video \n                    src={recordedVideoUrl} \n                    controls \n                    className=\"w-full rounded-lg mb-2\"\n                    style={{ maxHeight: '200px' }}\n                  />\n                  <button\n                    onClick={sendRecordedVideo}\n                    disabled={isProcessing}\n                    className=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg font-medium transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed\"\n                  >\n                    <Send className=\"w-4 h-4\" />\n                    Send Recording\n                  </button>\n                </div>\n              )}\n\n              {/* Recording Controls */}\n              <div className=\"mb-3\">\n                {!isRecording && !recordedVideoUrl && (\n                  <button\n                    onClick={startRecording}\n                    disabled={isProcessing}\n                    className=\"w-full bg-red-600 hover:bg-red-700 text-white px-4 py-3 rounded-lg font-medium transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed\"\n                  >\n                    <Camera className=\"w-5 h-5\" />\n                    Start Recording\n                  </button>\n                )}\n                \n                {isRecording && (\n                  <button\n                    onClick={stopRecording}\n                    className=\"w-full bg-gray-800 hover:bg-gray-900 text-white px-4 py-3 rounded-lg font-medium transition-all flex items-center justify-center gap-2 animate-pulse\"\n                  >\n                    <StopCircle className=\"w-5 h-5\" />\n                    Stop Recording\n                  </button>\n                )}\n              </div>\n\n              {/* Upload Option */}\n              {!isRecording && !recordedVideoUrl && (\n                <>\n                  <div className=\"relative\">\n                    <div className=\"absolute inset-0 flex items-center\">\n                      <div className=\"w-full border-t border-indigo-300\"></div>\n                    </div>\n                    <div className=\"relative flex justify-center text-xs\">\n                      <span className=\"bg-indigo-50 px-2 text-gray-500\">or</span>\n                    </div>\n                  </div>\n\n                  <label className=\"cursor-pointer block mt-3\">\n                    <input\n                      type=\"file\"\n                      accept=\"video/*,image/*\"\n                      onChange={handleVideoUpload}\n                      className=\"hidden\"\n                      disabled={isProcessing || isRecording}\n                    />\n                    <div className={`bg-white hover:bg-gray-50 transition-colors border-2 border-dashed border-indigo-300 rounded-lg p-4 text-center ${isProcessing || isRecording ? 'opacity-50 cursor-not-allowed' : ''}`}>\n                      <Upload className=\"w-6 h-6 text-indigo-600 mx-auto mb-2\" />\n                      <p className=\"text-sm font-medium text-gray-700\">Upload Video/Image</p>\n                      <p className=\"text-xs text-gray-500 mt-1\">Gemini will convert to text</p>\n                    </div>\n                  </label>\n                </>\n              )}\n            </div>\n\n            {/* Normal User Input */}\n            <div className=\"bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-4 border-2 border-purple-200\">\n              <div className=\"flex items-center gap-2 mb-3\">\n                <div className=\"bg-purple-100 p-1.5 rounded-full\">\n                  <UserCircle className=\"w-4 h-4 text-purple-600\" />\n                </div>\n                <h3 className=\"font-semibold text-gray-800\">User</h3>\n              </div>\n\n              {/* Audio Recording Button */}\n              <div className=\"mb-3\">\n                {!isRecordingAudio ? (\n                  <button\nonClick={startAudioRecording}\n                    disabled={isProcessing}\n                    className=\"w-full bg-green-600 hover:bg-green-700 text-white px-4 py-3 rounded-lg font-medium transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed\"\n                  >\n                    <Mic className=\"w-5 h-5\" />\n                    Record Voice Message\n                  </button>\n                ) : (\n                  <button\n                    onClick={stopAudioRecording}\n                    className=\"w-full bg-gray-800 hover:bg-gray-900 text-white px-4 py-3 rounded-lg font-medium transition-all flex items-center justify-center gap-2 animate-pulse\"\n                  >\n                    <StopCircle className=\"w-5 h-5\" />\n                    Stop Recording\n                  </button>\n                )}\n              </div>\n\n              {/* Text Input */}\n              <div className=\"relative\">\n                <div className=\"absolute inset-0 flex items-center\">\n                  <div className=\"w-full border-t border-purple-300\"></div>\n                </div>\n                <div className=\"relative flex justify-center text-xs\">\n                  <span className=\"bg-purple-50 px-2 text-gray-500\">or type</span>\n                </div>\n              </div>\n\n              <div className=\"flex gap-2 mt-3\">\n                <input\n                  type=\"text\"\n                  value={textInput}\n                  onChange={(e) => setTextInput(e.target.value)}\n                  onKeyPress={(e) => e.key === 'Enter' && !isProcessing && handleTextSend()}\n                  placeholder=\"Type your message...\"\n                  disabled={isProcessing}\n                  className=\"flex-1 px-4 py-3 rounded-lg border-2 border-purple-200 focus:border-purple-400 focus:outline-none disabled:opacity-50\"\n                />\n                <button\n                  onClick={handleTextSend}\n                  disabled={isProcessing || !textInput.trim()}\n                  className=\"bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white px-6 py-3 rounded-lg font-medium transition-all transform hover:scale-105 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none\"\n                >\n                  <Send className=\"w-5 h-5\" />\n                </button>\n              </div>\n              <p className=\"text-xs text-gray-500 mt-2\">‚ú® Get detailed finger animations</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}